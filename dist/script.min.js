const pokemonRepository=function(){let c=[],a=function(a){"object"==typeof a&&"name"in a&&"detailsUrl"in a?c.push(a):alert("Please enter the right pokemon info")};function b(a){let b=$(".modal-body"),c=$(".modal-title");c.empty(),b.empty();let f=$('<h1 class="text-capitalize">'+a.name+"</h1>"),d=$('<img class="pokemon-img" style="width:30%">');d.attr("src",a.imageUrlFront);let e=$('<img class="pokemon-img" style="width:30%">');e.attr("src",a.imageUrlBack);let g=$("<p>Height : "+a.height+"</p>"),h=$("<p>Weight : "+a.weight+"</p>"),i=$("<p>Types : "+a.types+"</p>"),j=$("<p>Abilities : "+a.abilities+"</p>");c.append(f),b.append(d),b.append(e),b.append(g),b.append(h),b.append(i),b.append(j)}return{getAll:function(){return c},add:a,addListItem:function(a){pokemonRepository.loadDetails(a).then(function(){let g=$(".row"),c=$('<div class="card text-center card-container" style="width:400px"></div>'),e=$('<img class="card-img-top d-inline" alt="Card image" style="width:30%" />');e.attr("src",a.imageUrlFront);let d=$('<div class="card-body"></div>'),h=$('<h4 class="card-title text-capitalize" >'+a.name+"</h4>"),f=$('<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#pokemon-modal">See Profile</button>');g.append(c),c.append(e),c.append(d),d.append(h),d.append(f),f.on("click",function(){(function(a){pokemonRepository.loadDetails(a).then(function(){b(a)})})(a)})})},showModal:b,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){a({name:b.name,detailsUrl:b.url})})}).catch(function(a){console.log(a)})},loadDetails:function(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrlFront=b.sprites.front_default,a.imageUrlBack=b.sprites.back_default,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(","),a.abilities=b.abilities.map(a=>a.ability.name).join(","),a.name=b.name}).catch(function(a){console.error(a)})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})})
